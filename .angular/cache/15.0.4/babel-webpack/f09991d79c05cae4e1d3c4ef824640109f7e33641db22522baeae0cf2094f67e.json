{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { minusculoValidator } from './minusculo.validator';\nimport { usuarioSenhaIguaisValidator } from './usuario-senha-iguais.validator';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./novo-usuario.service\";\nimport * as i3 from \"./usuario-existe.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../../componentes/mensagem/mensagem.component\";\nfunction NovoUsuarioComponent_app_mensagem_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-mensagem\", 14);\n  }\n}\nfunction NovoUsuarioComponent_app_mensagem_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-mensagem\", 15);\n  }\n}\nfunction NovoUsuarioComponent_app_mensagem_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-mensagem\", 16);\n  }\n}\nfunction NovoUsuarioComponent_app_mensagem_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-mensagem\", 17);\n  }\n}\nfunction NovoUsuarioComponent_app_mensagem_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-mensagem\", 18);\n  }\n}\nconst _c0 = function () {\n  return [\"\"];\n};\nexport class NovoUsuarioComponent {\n  constructor(formBuilder, novoUsuarioService, usuarioExistenteService) {\n    this.formBuilder = formBuilder;\n    this.novoUsuarioService = novoUsuarioService;\n    this.usuarioExistenteService = usuarioExistenteService;\n  }\n  ngOnInit() {\n    this.novoUsuarioForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      fullName: ['', [Validators.required, Validators.minLength(4)]],\n      userName: ['', [minusculoValidator], [this.usuarioExistenteService.usuarioJaExiste()]],\n      password: ['']\n    }, {\n      validators: [usuarioSenhaIguaisValidator]\n    });\n  }\n  cadastrar() {\n    const novoUsuario = this.novoUsuarioForm.getRawValue();\n    console.log(novoUsuario);\n  }\n}\nNovoUsuarioComponent.ɵfac = function NovoUsuarioComponent_Factory(t) {\n  return new (t || NovoUsuarioComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.NovoUsuarioService), i0.ɵɵdirectiveInject(i3.UsuarioExisteService));\n};\nNovoUsuarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NovoUsuarioComponent,\n  selectors: [[\"app-novo-usuario\"]],\n  decls: 27,\n  vars: 8,\n  consts: [[1, \"text-center\"], [1, \"form\", \"mt-4\", 3, \"formGroup\", \"submit\"], [1, \"form-group\"], [\"placeholder\", \"e-mail\", \"formControlName\", \"email\", 1, \"form-control\"], [\"mensagem\", \"E-mail obrigat\\u00F3rio\", 4, \"ngIf\"], [\"mensagem\", \"E-mail no formato incorreto\", 4, \"ngIf\"], [\"placeholder\", \"Nome Completo\", \"formControlName\", \"fullName\", 1, \"form-control\"], [\"mensagem\", \"Nome incorreto\", 4, \"ngIf\"], [\"placeholder\", \"Usu\\u00E1rio\", \"formControlName\", \"userName\", 1, \"form-control\"], [\"mensagem\", \"Usu\\u00E1rio deve ser em letra min\\u00FAscula\", 4, \"ngIf\"], [\"mensagem\", \"Usu\\u00E1rio j\\u00E1 existe\", 4, \"ngIf\"], [\"type\", \"password\", \"placeholder\", \"Senha\", \"formControlName\", \"password\", 1, \"form-control\"], [1, \"btn\", \"btn-primary\", \"btn-block\"], [3, \"routerLink\"], [\"mensagem\", \"E-mail obrigat\\u00F3rio\"], [\"mensagem\", \"E-mail no formato incorreto\"], [\"mensagem\", \"Nome incorreto\"], [\"mensagem\", \"Usu\\u00E1rio deve ser em letra min\\u00FAscula\"], [\"mensagem\", \"Usu\\u00E1rio j\\u00E1 existe\"]],\n  template: function NovoUsuarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h4\", 0);\n      i0.ɵɵtext(1, \"Registre-se e mostre suas fotos ao mundo!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵlistener(\"submit\", function NovoUsuarioComponent_Template_form_submit_2_listener() {\n        return ctx.cadastrar();\n      });\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelement(4, \"input\", 3);\n      i0.ɵɵtemplate(5, NovoUsuarioComponent_app_mensagem_5_Template, 1, 0, \"app-mensagem\", 4);\n      i0.ɵɵtemplate(6, NovoUsuarioComponent_app_mensagem_6_Template, 1, 0, \"app-mensagem\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"br\");\n      i0.ɵɵelementStart(8, \"div\", 2);\n      i0.ɵɵelement(9, \"input\", 6);\n      i0.ɵɵtemplate(10, NovoUsuarioComponent_app_mensagem_10_Template, 1, 0, \"app-mensagem\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"br\");\n      i0.ɵɵelementStart(12, \"div\", 2);\n      i0.ɵɵelement(13, \"input\", 8);\n      i0.ɵɵtemplate(14, NovoUsuarioComponent_app_mensagem_14_Template, 1, 0, \"app-mensagem\", 9);\n      i0.ɵɵtemplate(15, NovoUsuarioComponent_app_mensagem_15_Template, 1, 0, \"app-mensagem\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"br\");\n      i0.ɵɵelementStart(17, \"div\", 2);\n      i0.ɵɵelement(18, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"br\");\n      i0.ɵɵelementStart(20, \"button\", 12);\n      i0.ɵɵtext(21, \"Cadastro\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(22, \"br\");\n      i0.ɵɵelementStart(23, \"p\");\n      i0.ɵɵtext(24, \"J\\u00E1 um usu\\u00E1rio? \");\n      i0.ɵɵelementStart(25, \"a\", 13);\n      i0.ɵɵtext(26, \" Fa\\u00E7a Login\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.novoUsuarioForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.novoUsuarioForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) && ((tmp_1_0 = ctx.novoUsuarioForm.get(\"email\")) == null ? null : tmp_1_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.novoUsuarioForm.get(\"email\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"email\"]) && ((tmp_2_0 = ctx.novoUsuarioForm.get(\"email\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.novoUsuarioForm.get(\"fullName\")) == null ? null : tmp_3_0.errors) && ((tmp_3_0 = ctx.novoUsuarioForm.get(\"fullName\")) == null ? null : tmp_3_0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.novoUsuarioForm.get(\"userName\")) == null ? null : tmp_4_0.errors == null ? null : tmp_4_0.errors[\"minusculo\"]) && ((tmp_4_0 = ctx.novoUsuarioForm.get(\"userName\")) == null ? null : tmp_4_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx.novoUsuarioForm.get(\"userName\")) == null ? null : tmp_5_0.errors == null ? null : tmp_5_0.errors[\"usuarioExistente\"]);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(7, _c0));\n    }\n  },\n  dependencies: [i4.NgIf, i5.RouterLink, i6.MensagemComponent, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAAiCA,UAAU,QAAQ,gBAAgB;AACnE,SAASC,kBAAkB,QAAQ,uBAAuB;AAG1D,SAASC,2BAA2B,QAAQ,kCAAkC;;;;;;;;;;ICF1EC,mCAOe;;;;;IACfA,mCAOe;;;;;IASfA,mCAOe;;;;;IASfA,mCAOe;;;;;IACfA,mCAGgB;;;;;;AD1CpB,OAAM,MAAOC,oBAAoB;EAI/BC,YACUC,WAAwB,EACxBC,kBAAsC,EACtCC,uBAA6C;IAF7C,gBAAW,GAAXF,WAAW;IACX,uBAAkB,GAAlBC,kBAAkB;IAClB,4BAAuB,GAAvBC,uBAAuB;EAC9B;EAEHC,QAAQ;IACN,IAAI,CAACC,eAAe,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MAC5CC,KAAK,EAAE,CAAC,EAAE,EAAC,CAACZ,UAAU,CAACa,QAAQ,EAAEb,UAAU,CAACY,KAAK,CAAC,CAAC;MACnDE,QAAQ,EAAE,CAAC,EAAE,EAAC,CAACd,UAAU,CAACa,QAAQ,EAAEb,UAAU,CAACe,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7DC,QAAQ,EAAE,CAAC,EAAE,EAAC,CAACf,kBAAkB,CAAC,EAAE,CAAC,IAAI,CAACO,uBAAuB,CAACS,eAAe,EAAE,CAAC,CAAC;MACrFC,QAAQ,EAAE,CAAC,EAAE;KACd,EACD;MACEC,UAAU,EAAE,CAACjB,2BAA2B;KACzC,CAEA;EACH;EAEAkB,SAAS;IACP,MAAMC,WAAW,GAAG,IAAI,CAACX,eAAe,CAACY,WAAW,EAAiB;IACrEC,OAAO,CAACC,GAAG,CAACH,WAAW,CAAC;EAC1B;;AA3BWjB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdjC1B,6BAAwB;MAAAA,yDAAyC;MAAAA,iBAAK;MAEtEA,+BAA6E;MAAvBA;QAAA,OAAU2B,eAAW;MAAA,EAAC;MAC1E3B,8BAAwB;MACtBA,2BAA2E;MAC3EA,uFAOe;MACfA,uFAOe;MACjBA,iBAAM;MACNA,qBAAI;MACJA,8BAAwB;MACtBA,2BAIE;MACFA,yFAOe;MACjBA,iBAAM;MACNA,sBAAI;MACJA,+BAAwB;MACtBA,4BAIE;MACFA,yFAOe;MACfA,0FAGgB;MAClBA,iBAAM;MACNA,sBAAI;MACJA,+BAAwB;MACtBA,6BAKE;MAEJA,iBAAM;MACNA,sBAAI;MACJA,mCAA0C;MAAAA,yBAAQ;MAAAA,iBAAS;MAE7DA,sBAAI;MACJA,0BAAG;MAAAA,0CAAe;MAAAA,8BAAuB;MAACA,iCAAU;MAAAA,iBAAI;;;;;;;;MAtEhCA,eAA6B;MAA7BA,+CAA6B;MAI9CA,eAIP;MAJOA,oOAIP;MAIOA,eAIP;MAJOA,iOAIP;MAYOA,eAIP;MAJOA,8LAIP;MAYOA,eAIP;MAJOA,2OAIP;MAIOA,eAAmE;MAAnEA,0JAAmE;MAkBrDA,gBAAmB;MAAnBA,uDAAmB","names":["Validators","minusculoValidator","usuarioSenhaIguaisValidator","i0","NovoUsuarioComponent","constructor","formBuilder","novoUsuarioService","usuarioExistenteService","ngOnInit","novoUsuarioForm","group","email","required","fullName","minLength","userName","usuarioJaExiste","password","validators","cadastrar","novoUsuario","getRawValue","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/ana/Documentos/okp/gatBook/BookG/src/app/home/novo-usuario/novo-usuario.component.ts","/home/ana/Documentos/okp/gatBook/BookG/src/app/home/novo-usuario/novo-usuario.component.html"],"sourcesContent":["import { UsuarioExisteService } from './usuario-existe.service';\n\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { minusculoValidator } from './minusculo.validator';\nimport { NovoUsuarioService } from './novo-usuario.service';\nimport { NovoUsuario } from './novo-usuario';\nimport { usuarioSenhaIguaisValidator } from './usuario-senha-iguais.validator';\n\n@Component({\n  selector: 'app-novo-usuario',\n  templateUrl: './novo-usuario.component.html',\n  styleUrls: ['./novo-usuario.component.css']\n})\nexport class NovoUsuarioComponent implements OnInit{\n\n  novoUsuarioForm!: FormGroup;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private novoUsuarioService: NovoUsuarioService,\n    private usuarioExistenteService: UsuarioExisteService\n  ) {}\n\n  ngOnInit(): void {\n    this.novoUsuarioForm = this.formBuilder.group({\n      email: ['',[Validators.required, Validators.email]],\n      fullName: ['',[Validators.required, Validators.minLength(4)]],\n      userName: ['',[minusculoValidator], [this.usuarioExistenteService.usuarioJaExiste()]],\n      password: [''],\n    },\n    {\n      validators: [usuarioSenhaIguaisValidator],\n    }\n\n    );\n  }\n\n  cadastrar() {\n    const novoUsuario = this.novoUsuarioForm.getRawValue() as NovoUsuario;\n    console.log(novoUsuario);\n  }\n}\n\n","<h4 class=\"text-center\">Registre-se e mostre suas fotos ao mundo!</h4>\n\n<form class=\"form mt-4\" [formGroup]=\"novoUsuarioForm\" (submit)=\"cadastrar()\">\n  <div class=\"form-group\">\n    <input placeholder=\"e-mail\" class=\"form-control\" formControlName=\"email\" />\n    <app-mensagem\n      *ngIf=\"\n        novoUsuarioForm.get('email')?.errors?.['required'] &&\n        novoUsuarioForm.get('email')?.touched\n      \"\n      mensagem=\"E-mail obrigatório\"\n    >\n    </app-mensagem>\n    <app-mensagem\n      *ngIf=\"\n        novoUsuarioForm.get('email')?.errors?.['email'] &&\n        novoUsuarioForm.get('email')?.touched\n      \"\n      mensagem=\"E-mail no formato incorreto\"\n    >\n    </app-mensagem>\n  </div>\n  <br>\n  <div class=\"form-group\">\n    <input\n      placeholder=\"Nome Completo\"\n      class=\"form-control\"\n      formControlName=\"fullName\"\n    />\n    <app-mensagem\n      *ngIf=\"\n        novoUsuarioForm.get('fullName')?.errors &&\n        novoUsuarioForm.get('fullName')?.touched\n      \"\n      mensagem=\"Nome incorreto\"\n    >\n    </app-mensagem>\n  </div>\n  <br>\n  <div class=\"form-group\">\n    <input\n      placeholder=\"Usuário\"\n      class=\"form-control\"\n      formControlName=\"userName\"\n    />\n    <app-mensagem\n      *ngIf=\"\n        novoUsuarioForm.get('userName')?.errors?.['minusculo'] &&\n        novoUsuarioForm.get('userName')?.touched\n      \"\n      mensagem=\"Usuário deve ser em letra minúscula\"\n    >\n    </app-mensagem>\n    <app-mensagem\n      *ngIf=\"novoUsuarioForm.get('userName')?.errors?.['usuarioExistente']\"\n      mensagem=\"Usuário já existe\"\n    ></app-mensagem>\n  </div>\n  <br>\n  <div class=\"form-group\">\n    <input\n      type=\"password\"\n      placeholder=\"Senha\"\n      class=\"form-control\"\n      formControlName=\"password\"\n    />\n    \n  </div>\n  <br>\n  <button class=\"btn btn-primary btn-block\">Cadastro</button>\n</form>\n<br>\n<p>Já um usuário? <a [routerLink]=\"['']\"> Faça Login</a></p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}